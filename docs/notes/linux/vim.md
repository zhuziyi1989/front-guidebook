# VIM 速查手册



## 进入VIM 相关

| 命令                         | 描述                                                 |
| :--------------------------- | :--------------------------------------------------- |
| vim filename                 | 打开或者新建文件                                     |
| vim +n filename              | 打开文件，并将光标置于第 n 行的行首                  |
| vim + filename               | 打开文件，并将光标置于最后一行行首                   |
| vim +/pattern filename       | 打开文件，并将光标置于第一个与 pattern 匹配的子串处  |
| vim -r filename              | 如果上次非正常退出vim编辑，-r 命令可用于恢复当前文件 |
| vim filename ...... filename | 打开多个文件，依次编辑                               |

## VIM 配置相关

| 命令            | 描述                                        |
| :-------------- | :------------------------------------------ |
| :set number     | 显示行号                                    |
| nomagic         | 允许在搜索模式中，使用前面不带" "的特殊字符 |
| :set hlsearch   | 高亮显示查到找的单词                        |
| :set nohlsearch | 关闭高亮                                    |
| :set nu         | 显示行号 缩写                               |

#### 光标移动相关

| 命令       | 描述                         |
| :--------- | :--------------------------- |
| k nk       | 上 向上移动n行               |
| j nj       | 下向下移动n行                |
| h nh       | 左 向左移动n行               |
| l nl       | 右 向右移动n行               |
| Space      | 光标右移一个字符             |
| Backspace  | 光标左移一个字符             |
| Enter      | 光标下移一行                 |
| w/W        | 光标右移一个字至字首         |
| b/B        | 光标左移一个字至字首         |
| e/E        | 光标右移一个字至字尾         |
| )          | 光标移至句尾                 |
| (          | 光标移至句首                 |
| {          | 光标移至段落开头             |
| }          | 光标移至段落结尾             |
| n$         | 光标移至第n行行尾            |
| H          | 光标移至屏幕顶行             |
| M          | 光标移动至屏幕中间行         |
| L          | 光标移动至屏幕最后行         |
| 0（数字0） | 光标移动至当前行首           |
| ^          | 光标移动到行首第一个非空字符 |
| $          | 光标移动至当前行尾           |
| gg         | 移动到第一行                 |
| G          | 移动到最后一行               |
| f          | 光标移动到当前 行的字符a上   |
| F          | 光标移动到当前行的字符Z上    |
| nG         | 移动到第n行上                |
| G          | 光标移动到最后一行           |

#### 屏幕滚动

| 命令     | 描述                                                         |
| :------- | :----------------------------------------------------------- |
| ctrl + u | 朝向当前文件首 翻半屏                                        |
| ctrl + d | 朝向当前文件尾 翻半屏                                        |
| ctrl + f | 朝向当前文件尾 翻一屏                                        |
| ctrl + b | 朝向当前文件首 翻一屏                                        |
| nz       | 将第n行滚动至屏幕顶部，如果未指定n，则将当前光标所在行滚动到屏幕顶部 |

#### 文本插入

| 命令         | 描述                                               |
| :----------- | :------------------------------------------------- |
| i            | 在光标前插入                                       |
| I（大写的i） | 在当前行行首插入                                   |
| a            | 在光标后插入                                       |
| A            | 在当前行行尾插入                                   |
| o            | 在当前行下面新起一行                               |
| O            | 在当前行之上新起一行                               |
| r            | 替换当前光标后面的一个字符                         |
| R            | 替换当前光标后所有字符，直到按ESC结束              |
| s            | 从当前光标位置开始，以输入的文本替代相应数量的字符 |
| S            | 删除指定数量的行，并以输出文本替代                 |
| ncw/nCW      | 删除指定数目的行，并以输出文本替代                 |
| nCC          | 修改指定数目的行                                   |

#### 删除文本

| 命令      | 描述                                             |
| :-------- | :----------------------------------------------- |
| x/X       | 删除一个字符，x删除光标后的，而X删除光标前的     |
| dw        | 删除一个单词(删除光标位置到下一个单词开始的位置) |
| dnw       | 删除n个单词                                      |
| dne       | 也可，只是删除到单词尾                           |
| do        | 删至行首                                         |
| d$        | 删至行尾                                         |
| dd        | 删除一行                                         |
| ndd       | 删除当前行及其后n-1行                            |
| dnl       | 向右删除n个字母                                  |
| dnh       | 向左删除n个字母                                  |
| dnj       | 向下删除n行,当前行+其上n行                       |
| dnk       | 向上删除n行,当期行+其下n行                       |
| cnw[word] | 将n个word改变为word                              |
| C$        | 改变到行尾                                       |
| cc        | 改变整行                                         |
| shift+j   | 删除行尾的换行符，下一行接上来了                 |

#### 复制粘贴

| 命令 | 描述                 |
| :--- | :------------------- |
| p    | 粘贴用x或d删除的文本 |
| ynw  | 复制n个单词          |
| yy   | 复制一行             |
| ynl  | 复制n个字符          |
| y$   | 复制当前光标至行尾处 |
| nyy  | 拷贝n行              |

#### 撤销

| 命令      | 描述                 |
| :-------- | :------------------- |
| u         | 撤销前一次的操作     |
| shif+u(U) | 撤销对该行的所有操作 |

#### 搜索及替换

| 命令                     | 描述                                                 |
| :----------------------- | :--------------------------------------------------- |
| /pattern                 | 从光标开始处向文件尾搜索pattern                      |
| ?pattern                 | 从光标开始处向文件首搜索pattern                      |
| n                        | 在同一方向重复上一次搜索命令                         |
| N                        | 在反方向上重复上一次搜索命令                         |
| cw newword               | 替换为newword                                        |
| n                        | 继续查找                                             |
| .                        | 执行替换                                             |
| :s/p1/p2/g               | 将当前行中所有p1均用p2替代,g表示执行 用c表示需要确认 |
| :n1,n2 s/p1/p2/g         | 将第n1至n2行中所有p1均用p2替代                       |
| :g/p1/s//p2/g            | 将文件中所有p1均用p2替换                             |
| :1,$ s/string1/string2/g | 在全文中将string1替换为string2                       |

#### 文件及其他

| 命令        | 描述                                 |
| :---------- | :----------------------------------- |
| :q          | 退出vi                               |
| :q!         | 不保存文件并退出vi                   |
| :e filename | 打开文件filename进行编辑             |
| :e!         | 放弃修改文件内容，重新载入该文件编辑 |
| :w          | 保存当前文件                         |
| :wq         | 存盘退出                             |
| :ZZ         | 保存当前文档并退出VIM                |